(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fe7c00b"],{1071:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.loading?r("Loader"):e.record?r("div",[r("div",{staticClass:"breadcrumb-wrap"},[r("router-link",{staticClass:"breadcrumb",attrs:{to:"/history"}},[e._v("История")]),r("a",{staticClass:"breadcrumb",on:{click:function(e){e.preventDefault()}}},[e._v(" "+e._s("income"===e.record.type?"Доход":"Расход")+" ")])],1),r("div",{staticClass:"row"},[r("div",{staticClass:"col s12 m12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-content black-text"},[r("button",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"},{name:"tooltip",rawName:"v-tooltip",value:"Редактировать запись",expression:'"Редактировать запись"'}],staticClass:"btn-small btn right",on:{click:e.btnEdit}},[r("i",{staticClass:"material-icons"},[e._v("edit")])]),r("button",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"},{name:"tooltip",rawName:"v-tooltip",value:"Отменить редактирование",expression:'"Отменить редактирование"'}],staticClass:"btn-small btn right",on:{click:e.btnCancel}},[r("i",{staticClass:"material-icons"},[e._v("cancel")])]),r("p",[e._v("Описание: "+e._s(e.record.description))]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.record.description,expression:"record.description"},{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}],domProps:{value:e.record.description},on:{input:function(t){t.target.composing||e.$set(e.record,"description",t.target.value)}}}),r("p",[e._v("Сумма: "+e._s(e._f("currency")(e.record.amount)))]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.record.amount,expression:"record.amount"},{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}],attrs:{type:"number"},domProps:{value:e.record.amount},on:{input:function(t){t.target.composing||e.$set(e.record,"amount",t.target.value)}}}),r("br",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}]}),r("p",[r("label",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}]},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.record.type,expression:"record.type"}],staticClass:"with-gap",attrs:{name:"type",type:"radio",value:"income"},domProps:{checked:e._q(e.record.type,"income")},on:{change:function(t){return e.$set(e.record,"type","income")}}}),r("span",[e._v("Доход")])]),r("label",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}]},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.record.type,expression:"record.type"}],staticClass:"with-gap",attrs:{name:"type",type:"radio",value:"outcome"},domProps:{checked:e._q(e.record.type,"outcome")},on:{change:function(t){return e.$set(e.record,"type","outcome")}}}),r("span",[e._v("Расход")])])]),r("br",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}]}),r("p",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}]},[e._v("Категория: "+e._s(e.record.categoryName))]),r("p",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}]},[e._v("Категория: ")]),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}]},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.current,expression:"current"}],ref:"select",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.current=t.target.multiple?r:r[0]}}},e._l(e.categories,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.title)+" ")])})),0)]),r("small",[e._v(e._s(e._f("date")(e.record.date,"datetime")))]),r("button",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"},{name:"tooltip",rawName:"v-tooltip",value:"Сохранить запись",expression:'"Сохранить запись"'}],staticClass:"btn-small btn right",on:{click:e.btnSave}},[r("i",{staticClass:"material-icons"},[e._v("save")])])])])])])]):r("p",{staticClass:"center"},[e._v(" Запись с Id="+e._s(e.$route.params.id)+" не найдена")])],1)},a=[],o=r("5530"),s=r("1da1"),n=(r("96cf"),r("a4d3"),r("e01a"),{name:"edit",metaInfo:function(){return{title:this.$title("Edit")}},data:function(){return{loading:!0,record:null,edit:!0,categories:null,current:null,id:""}},methods:{btnEdit:function(){this.edit=!1},btnSave:function(){this.edit=!0;var e={amount:this.record.amount,categoryId:this.current,date:this.record.date,description:this.record.description,type:this.record.type},t=this.record.id;this.$store.dispatch("editRecord",{editedRecord:e,id:t}),this.$router.push("/history")},btnCancel:function(){this.edit=!0}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.params.id,t.next=3,e.$store.dispatch("fetchRecordById",r);case 3:return i=t.sent,t.next=6,e.$store.dispatch("fetchCategoryById",i.categoryId);case 6:return a=t.sent,t.next=9,e.$store.dispatch("fetchCategories");case 9:e.categories=t.sent,setTimeout((function(){e.select=window.M.FormSelect.init(e.$refs.select)}),0),e.current=i.categoryId,window.M.updateTextFields(),e.record=Object(o["a"])(Object(o["a"])({},i),{},{categoryName:a.title}),e.loading=!1;case 15:case"end":return t.stop()}}),t)})))()},destroyed:function(){this.elect&&this.select.destroy&&this.select.destroy()}}),c=n,d=r("2877"),l=Object(d["a"])(c,i,a,!1,null,null,null);t["default"]=l.exports},e01a:function(e,t,r){"use strict";var i=r("23e7"),a=r("83ab"),o=r("da84"),s=r("5135"),n=r("861d"),c=r("9bf2").f,d=r("e893"),l=o.Symbol;if(a&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var u={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof v?new l(e):void 0===e?l():l(e);return""===e&&(u[t]=!0),t};d(v,l);var p=v.prototype=l.prototype;p.constructor=v;var m=p.toString,h="Symbol(test)"==String(l("test")),w=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var e=n(this)?this.valueOf():this,t=m.call(e);if(s(u,e))return"";var r=h?t.slice(7,-1):t.replace(w,"$1");return""===r?void 0:r}}),i({global:!0,forced:!0},{Symbol:v})}}}]);
//# sourceMappingURL=chunk-2fe7c00b.6e140bb6.js.map